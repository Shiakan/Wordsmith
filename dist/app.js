!function(e){function t(t){for(var n,l,u=t[0],c=t[1],i=t[2],d=0,f=[];d<u.length;d++)l=u[d],a[l]&&f.push(a[l][0]),a[l]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(s&&s(t);f.length;)f.shift()();return o.push.apply(o,i||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,u=1;u<r.length;u++){var c=r[u];0!==a[c]&&(n=!1)}n&&(o.splice(t--,1),e=l(l.s=r[0]))}return e}var n={},a={0:0},o=[];function l(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,l),r.l=!0,r.exports}l.m=e,l.c=n,l.d=function(e,t,r){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(l.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(r,n,function(t){return e[t]}.bind(null,n));return r},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var u=window.webpackJsonp=window.webpackJsonp||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var i=0;i<u.length;i++)t(u[i]);var s=c;o.push([309,1]),r()}({116:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleDrawPicker=t.drawingColor=t.receiveDrawing=t.shareDrawing=t.RECEIVE_DRAWING=t.SHARE_DRAWING=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=r(262),o={drawColor:"#f44336",drawing:!1,eventStore:new a.EventStore,eventStream:new a.EventStream,drawPicker:!1},l=t.SHARE_DRAWING="SHARE_DRAWING",u=t.RECEIVE_DRAWING="RECEIVE_DRAWING";t.shareDrawing=function(){return{type:l}},t.receiveDrawing=function(e){return{type:u,drawingStore:e}},t.drawingColor=function(e){return{type:"DRAWING_COLOR",value:e}},t.toggleDrawPicker=function(){return{type:"TOGGLE_DRAW_PICKER"}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case u:var r=t.drawingStore,a=e.eventStore;return a.goodEvents=r,n({},e,{eventStore:a});case"DRAWING_COLOR":return n({},e,{drawColor:t.value});case"TOGGLE_DRAW_PICKER":return n({},e,{drawPicker:!e.drawPicker});default:return e}}},123:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a={diceValue:"",rolled:"",rollHistory:[]},o=t.ROLL_DICE="ROLL_DICE",l=t.SHARE_DICE="SHARE_DICE";t.rollDice=function(e,t){return{type:o,dice:e,critic:t}},t.diceChange=function(e){return{type:"DICE_CHANGE",value:e}},t.diceShare=function(){return{type:l}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case o:return n({},e,{rolled:t.dice,diceCritic:t.critic});case"DICE_CHANGE":return n({},e,{diceValue:t.value});case l:return n({},e,{diceValue:""});default:return e}}},181:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a={dice:!0,sheet:!1,help:!1};t.doSomething=function(){return{type:"DO_SOMETHING"}},t.showDice=function(){return{type:"SHOW_DICE"}},t.showSheet=function(){return{type:"SHOW_SHEET"}},t.showHelp=function(){return{type:"SHOW_HELP"}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;switch((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type){case"DO_SOMETHING":return n({},e);case"SHOW_DICE":return n({},e,{dice:!0,sheet:!1});case"SHOW_SHEET":return n({},e,{dice:!1,sheet:!0});case"SHOW_HELP":return n({},e,{help:!e.help});default:return e}}},182:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.receiveMessage=t.addMessage=t.changeInput=t.ADD_MESSAGE=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};(function(e){e&&e.__esModule})(r(289)),r(123);var a={message:"",messages:[]},o=t.ADD_MESSAGE="ADD_MESSAGE";t.changeInput=function(e){return{type:"INPUT_CHANGE",message:e}},t.addMessage=function(){return{type:o}},t.receiveMessage=function(e){return{type:"MESSAGE_RECEIVED",message:e.message,id:e.id,author:e.author,dice:e.dice,diceValue:e.diceValue,critic:e.diceCritic}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"INPUT_CHANGE":return n({},e,{message:t.message});case o:return n({},e,{message:""});case"MESSAGE_RECEIVED":var r={id:t.id,author:t.author,message:t.message,dice:t.dice,diceValue:t.diceValue,critic:t.critic};return n({},e,{messages:[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e.messages),[r])});default:return e}}},309:function(e,t,r){r(310),e.exports=r(317)},310:function(e,t,r){},317:function(e,t,r){"use strict";r(318);var n=i(r(2)),a=r(50),o=r(32),l=i(r(530)),u=i(r(877)),c=r(90);function i(e){return e&&e.__esModule?e:{default:e}}var s=n.default.createElement(o.Provider,{store:u.default},n.default.createElement(l.default,null));(0,a.render)(s,document.getElementById("root")),u.default.dispatch((0,c.websocketConnect)())},530:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(2));r(531);var a=s(r(533)),o=s(r(721)),l=s(r(851)),u=s(r(856)),c=s(r(860)),i=s(r(874));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return n.default.createElement("div",{id:"app"},n.default.createElement(a.default,null),n.default.createElement(o.default,null),n.default.createElement(c.default,null),n.default.createElement(i.default,null),n.default.createElement(l.default,null),n.default.createElement(u.default,null))}},531:function(e,t,r){},533:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(32),a=function(e){return e&&e.__esModule?e:{default:e}}(r(534)),o=r(78),l=r(116);var u=(0,n.connect)(function(e){return{isBoard:e.gameScreen.isBoard,isMap:e.gameScreen.isMap,map:e.gameScreen.map,grid:e.gameScreen.grid,characters:e.gameScreen.characters,isSlided:e.gameScreen.isSlided,role:e.user.role,drawColor:e.board.drawColor,drawPicker:e.board.drawPicker,help:e.actionBar.help}},function(e){return{toggleScreen:function(){e((0,o.toggleScreen)())},togglePicker:function(){e((0,l.toggleDrawPicker)())},handleSlide:function(){e((0,o.handleSlide)())},shareDrawing:function(){e((0,l.shareDrawing)())},onChangeColor:function(t){e((0,l.drawingColor)(t))}}})(a.default);t.default=u},534:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=h(r(2)),l=h(r(3)),u=h(r(18)),c=r(77),i=r(227),s=h(r(87)),d=h(r(700)),f=h(r(707)),p=h(r(711)),m=h(r(715));function h(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}r(719);var v=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),l=0;l<a;l++)o[l]=arguments[l];return r=n=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.shouldComponentUpdate=function(e,t){return console.log("CSU CSU CSU",e,t),!0},n.changeColor=function(e){var t=n.props,r=t.onChangeColor,a=t.togglePicker;r(e.hex),a()},g(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"componentDidMount",value:function(){console.log("gameScreen loaded")}},{key:"render",value:function(){var e=this.props,t=e.toggleScreen,r=e.isBoard,a=e.map,l=e.isMap,h=e.grid,g=e.characters,v=e.handleSlide,E=e.isSlided,y=e.role,b=e.shareDrawing,_=e.drawColor,w=e.togglePicker,O=e.drawPicker,S=e.help,C=(0,u.default)("screen-switch",{"screen-switch--active":E,"screen-switch--notAMj":"dm"!==y}),P=(0,u.default)("screen-switch-arrow",{"screen-switch-arrow--board":r||"dm"!==y});return o.default.createElement("div",{className:"screen"},o.default.createElement("div",{className:C},l&&o.default.createElement("div",{className:"screen-switch-form"},o.default.createElement(f.default,null),"dm"===y&&o.default.createElement(p.default,null)),r&&o.default.createElement("div",null,o.default.createElement("button",{type:"button",className:"screen-switch-button",onClick:t},"Switch to Map"),o.default.createElement("div",{className:"screen-switch-board"},o.default.createElement("button",{type:"button",className:"screen-switch-share",onClick:b},"Share Board"),o.default.createElement(c.FaFeather,{className:"screen-switch-icon",style:{color:_},onClick:w})),O&&o.default.createElement("div",null,o.default.createElement("span",{className:"screen-switch-span"},"Choose color :"),o.default.createElement(i.CirclePicker,{className:"screen-switch-picker",color:_,circleSize:17,circleSpacing:8,width:"180px",onChange:this.changeColor,triangle:"hide"}))),E?o.default.createElement(c.FaAngleDoubleLeft,{className:P,onClick:v}):o.default.createElement(c.FaAngleDoubleRight,{className:P,onClick:v})),l&&o.default.createElement("div",{className:"screen-map"},S&&o.default.createElement("div",{className:"toolTip"},o.default.createElement(c.FaQuestionCircle,{"data-tip":"Gamescreen-tooltip","data-for":"Gamescreen-tooltip",className:"question"}),o.default.createElement(s.default,{id:"Gamescreen-tooltip",place:"left",type:"dark",effect:"float",border:!0},o.default.createElement("p",{className:"question-text"},"Déplacements :"),o.default.createElement("ul",{className:"question-ul"},o.default.createElement("li",{className:"question-ul-li"},"Vous pouvez déplacez vos pions sur la map pour faire savoir à vos compagnons où vous vous rendez"),o.default.createElement("li",{className:"question-ul-li"},"Le Maître du jeu peut déplacer tous les pions")),o.default.createElement("p",{className:"question-text"},"Grâce au menu sur la gauche de l'écran :"),o.default.createElement("ul",{className:"question-ul"},o.default.createElement("li",{className:"question-ul-li"},"Vous savez qui est présent avec vous dans la partie"),o.default.createElement("li",{className:"question-ul-li"},"Vous affichez ou non un quadrillage sur la map"),o.default.createElement("li",{className:"question-ul-li"},"Le Maître de jeu peut créer de nouveaux pions et téléporter les joueurs sur une autre carte")))),g.map(function(e){return o.default.createElement(d.default,n({key:e.id},e))}),h&&o.default.createElement("div",{className:"screen-map-grid"}),o.default.createElement("img",{src:a,alt:"map",className:"screen-map-image"})),r&&o.default.createElement(m.default,null))}}]),t}();v.propTypes={toggleScreen:l.default.func.isRequired,isBoard:l.default.bool.isRequired,map:l.default.string.isRequired,isMap:l.default.bool.isRequired,grid:l.default.bool.isRequired,characters:l.default.arrayOf(l.default.object.isRequired).isRequired,handleSlide:l.default.func.isRequired,isSlided:l.default.bool.isRequired,help:l.default.bool.isRequired,role:l.default.string.isRequired,shareDrawing:l.default.func.isRequired,togglePicker:l.default.func.isRequired,onChangeColor:l.default.func.isRequired,drawColor:l.default.string.isRequired,drawPicker:l.default.bool.isRequired},t.default=v},700:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(32),a=function(e){return e&&e.__esModule?e:{default:e}}(r(701)),o=r(78);var l=(0,n.connect)(function(e){return{userName:e.user.userName,role:e.user.role}},function(e,t){return{movePlayer:function(t){e((0,o.movePlayer)(t))},deletePlayer:function(){e((0,o.deletePlayer)(t))}}})(a.default);t.default=l},701:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=i(r(2)),o=i(r(3)),l=i(r(702)),u=r(703),c=i(r(18));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}r(704);var d=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),l=0;l<a;l++)o[l]=arguments[l];return r=n=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.movePlayer=function(e){console.log(e,"EEE"),(0,n.props.movePlayer)(e)},s(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),n(t,[{key:"componentDidMount",value:function(){console.log("Character loaded")}},{key:"render",value:function(){var e=this.props,t=e.name,r=e.color,n=e.id,o=e.deletePlayer,i=e.coordX,s=e.coordY,d=e.userName,f=e.role;console.log(d,f);var p="dm"===f,m=t===d;console.log("bool :",m);var h=(0,c.default)("character-cursor",{"character-cursor-other":!m&&!p});return a.default.createElement(l.default,{onStop:this.movePlayer,bounds:"parent",position:{x:i,y:s},cancel:".character-cursor-other"},a.default.createElement("div",{className:"character"},a.default.createElement("div",{className:"character-nickname",style:{color:r}},t,p&&a.default.createElement(u.TiDelete,{className:"character-nickname-delete",onClick:o})),a.default.createElement("div",{className:h,id:n,style:{backgroundColor:r}})))}}]),t}();d.propTypes={movePlayer:o.default.func.isRequired,name:o.default.string.isRequired,id:o.default.string.isRequired,color:o.default.string.isRequired,deletePlayer:o.default.func.isRequired,coordX:o.default.number.isRequired,coordY:o.default.number.isRequired,userName:o.default.string.isRequired,role:o.default.string.isRequired},t.default=d},704:function(e,t,r){},706:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{id:1,name:"auberge",url:"http://medievalshop.com/parchemin/wp-content/uploads/2013/02/Plan-FG2-Auberge-des-3-anneaux-%C3%A9tage-de-nuit.jpg"},{id:2,name:"armurerie",url:"http://medievalshop.com/parchemin/wp-content/uploads/2013/02/Armurerie1.jpg"},{id:3,name:"prison",url:"http://medievalshop.com/parchemin/wp-content/uploads/2013/08/La-prison.jpg"},{id:4,name:"laboratoire",url:"http://medievalshop.com/parchemin/wp-content/uploads/2014/03/un-laboratoire-souterrain.jpg"},{id:5,name:"quais",url:"http://medievalshop.com/parchemin/wp-content/uploads/2014/05/Les-quais.jpg"},{id:6,name:"temple",url:"http://medievalshop.com/parchemin/wp-content/uploads/2014/05/temple-de-iomedae.jpg"},{id:7,name:"desert",url:"http://medievalshop.com/parchemin/wp-content/uploads/2014/05/temp%C3%AAte-de-sable.jpg"},{id:8,name:"forge",url:"http://medievalshop.com/parchemin/wp-content/uploads/2014/04/La-forge1200x10001.jpg"},{id:9,name:"taverne",url:"http://4.bp.blogspot.com/-YCn-yY_Wt-c/UtME0OoI_FI/AAAAAAAADOY/1IeqF92KSLU/s800/DungeonZ+-+The+city+-+Overlays-+The+Prancing+Dragon+Tavern.jpg"}]},707:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(32),a=function(e){return e&&e.__esModule?e:{default:e}}(r(708)),o=r(78);var l=(0,n.connect)(function(e){return{grid:e.gameScreen.grid,role:e.user.role}},function(e){return{toggleScreen:function(){e((0,o.toggleScreen)())},toggleGrid:function(){e((0,o.toggleGrid)())}}})(a.default);t.default=l},708:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=l(r(2)),o=l(r(3));function l(e){return e&&e.__esModule?e:{default:e}}r(709);var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),n(t,[{key:"componentDidMount",value:function(){console.log("switch map loaded")}},{key:"render",value:function(){var e=this.props,t=e.toggleScreen,r=e.toggleGrid,n=e.grid;return a.default.createElement("form",{className:"mapSwitch"},a.default.createElement("button",{type:"button",className:"mapSwitch-button",onClick:t},"Switch to Board"),a.default.createElement("label",{className:"mapSwitch-label",htmlFor:"check",id:"box"},a.default.createElement("input",{type:"checkbox",id:"check",name:"check",className:"mapSwitch-checkbox",onChange:r,checked:n}),a.default.createElement("span",null,"Quadrillage")))}}]),t}();u.propTypes={toggleScreen:o.default.func.isRequired,toggleGrid:o.default.func.isRequired,grid:o.default.bool.isRequired},t.default=u},709:function(e,t,r){},711:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(32),a=function(e){return e&&e.__esModule?e:{default:e}}(r(712)),o=r(78);var l=(0,n.connect)(function(e){return{color:e.gameScreen.color,toggle:e.gameScreen.toggle,typingName:e.gameScreen.typingName,maps:e.gameScreen.maps}},function(e){return{togglePicker:function(){e((0,o.togglePicker)())},onChangeColor:function(t){e((0,o.changeColor)(t))},createPlayer:function(){e((0,o.createPlayer)())},onInputChange:function(t){e((0,o.changeInput)(t))},onDisplayPlayer:function(t){e((0,o.movePlayer)(t))},changeMap:function(t){e((0,o.changeMap)(t))}}})(a.default);t.default=l},712:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=u(r(2)),o=u(r(3)),l=r(227);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}r(713);var i=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),l=0;l<a;l++)o[l]=arguments[l];return r=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.handleChange=function(e){(0,n.props.onInputChange)(e.target.value)},n.handleSubmit=function(e){e.preventDefault(),(0,n.props.createPlayer)()},n.changeColor=function(e){var t=n.props,r=t.onChangeColor,a=t.togglePicker;r(e.hex),a()},n.handleMap=function(e){var t=n.props.changeMap;console.log(e.target.value),t(e.target.value)},c(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),n(t,[{key:"componentDidMount",value:function(){console.log("switch MJ loaded")}},{key:"render",value:function(){var e=this.props,t=e.togglePicker,r=e.color,n=e.toggle,o=e.typingName,u=e.maps;return a.default.createElement("div",{className:"mjSwitch"},n&&a.default.createElement(l.CirclePicker,{className:"mjSwitch-picker",color:r,circleSize:17,circleSpacing:10,width:"170px",onChange:this.changeColor,triangle:"hide"}),a.default.createElement("form",{className:"mjSwitch-form",onSubmit:this.handleSubmit},a.default.createElement("button",{type:"button",style:{backgroundColor:r},onClick:t}," "),a.default.createElement("input",{className:"mjSwitch-form-input",type:"text",placeholder:"Nom du pion",onChange:this.handleChange,value:o}),a.default.createElement("input",{className:"mjSwitch-form-button",type:"submit",value:"+"})),a.default.createElement("form",{id:"mapSelect",className:"mjSwitch-mapForm"},a.default.createElement("span",null,"Carte : "),a.default.createElement("select",{id:"monselect",className:"mjSwitch-mapForm-select",form:"mapSelect",onChange:this.handleMap},u.map(function(e){return a.default.createElement("option",{className:"mjSwitch-mapForm-select-option",key:e.id,value:e.url},e.name)}))))}}]),t}();i.propTypes={togglePicker:o.default.func.isRequired,onChangeColor:o.default.func.isRequired,onInputChange:o.default.func.isRequired,color:o.default.string.isRequired,toggle:o.default.bool.isRequired,typingName:o.default.string,createPlayer:o.default.func.isRequired,maps:o.default.arrayOf(o.default.object.isRequired).isRequired,changeMap:o.default.func.isRequired},i.defaultProps={typingName:""},t.default=i},713:function(e,t,r){},715:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(32),a=function(e){return e&&e.__esModule?e:{default:e}}(r(716));r(116);var o=(0,n.connect)(function(e){return{drawColor:e.board.drawColor,drawing:e.board.drawing,eventStream:e.board.eventStream,eventStore:e.board.eventStore}},function(){return{}})(a.default);t.default=o},716:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=u(r(2)),o=u(r(3)),l=r(262);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}r(717);var i=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),l=0;l<a;l++)o[l]=arguments[l];return r=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.requestAnimationFrame=function(){var e=n.props,t=e.eventStream,r=e.drawColor;t.changeStrokeColor(r),console.log("event stream? ",t)},c(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),n(t,[{key:"componentDidMount",value:function(){console.log("board loaded")}},{key:"render",value:function(){var e=this.props,t=e.drawing,r=e.eventStore,n=e.eventStream;return console.log(t?"start drawing":"stop drawing"),a.default.createElement("div",{className:"board",onClick:this.requestAnimationFrame},a.default.createElement(l.Whiteboard,{events:n,eventStore:r,width:"100%",height:"100%",style:{backgroundColor:"lightyellow",color:"blue"}}))}}]),t}();i.propTypes={drawColor:o.default.string.isRequired,drawing:o.default.bool.isRequired,eventStream:o.default.object.isRequired,eventStore:o.default.object.isRequired},t.default=i},717:function(e,t,r){},719:function(e,t,r){},721:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(32),a=function(e){return e&&e.__esModule?e:{default:e}}(r(722));var o=(0,n.connect)(function(e){return{dice:e.actionBar.dice,sheet:e.actionBar.sheet,help:e.actionBar.help}},{})(a.default);t.default=o},722:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=s(r(2)),o=s(r(3)),l=r(77),u=s(r(87)),c=s(r(723)),i=s(r(844));function s(e){return e&&e.__esModule?e:{default:e}}r(849);var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),n(t,[{key:"componentDidMount",value:function(){console.log("Panel loaded")}},{key:"render",value:function(){var e=this.props,t=e.dice,r=e.sheet,n=e.help;return a.default.createElement("div",{className:"panel"},t&&a.default.createElement(c.default,null),r&&a.default.createElement(i.default,null),n&&a.default.createElement("div",{className:"toolTip"},a.default.createElement(l.FaQuestionCircle,{"data-tip":"panel-tooltip","data-for":"panel-tooltip",className:"question"}),a.default.createElement(u.default,{id:"panel-tooltip",place:"left",type:"dark",effect:"float",border:!0},a.default.createElement("p",{className:"question-text"},"Dés"),a.default.createElement("ul",{className:"question-ul"},a.default.createElement("li",{className:"question-ul-li"},"Tapez 1D20 pour lancer 1 dé à 20 faces"),a.default.createElement("li",{className:"question-ul-li"},"2D6 pour lancer 2 dés à 6 faces"),a.default.createElement("li",{className:"question-ul-li"},"Le résultat du lancer sera automatiquement partagé dans le chat"),a.default.createElement("li",{className:"question-ul-li"},"Le Maître du jeu choisit ou non de partager son lancer")),a.default.createElement("p",{className:"question-text"},"Fiche personnage"),a.default.createElement("ul",{className:"question-ul"},a.default.createElement("li",{className:"question-ul-li"},"Votre fiche personnage est sauvegardée dès lors que vous cliquez en dehors de la zone de texte"),a.default.createElement("li",{className:"question-ul-li"},"Vous allez la retrouver dans la prochaine partie à laquelle vous participerez")))))}}]),t}();d.propTypes={dice:o.default.bool.isRequired,sheet:o.default.bool.isRequired,help:o.default.bool.isRequired},t.default=d},723:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(32),a=function(e){return e&&e.__esModule?e:{default:e}}(r(724)),o=r(123);var l=(0,n.connect)(function(e){return{diceValue:e.dice.diceValue,rolled:e.dice.rolled,role:e.user.role}},function(e){return{rollDice:function(t,r){e((0,o.rollDice)(t,r))},diceChange:function(t){e((0,o.diceChange)(t))},diceShare:function(){e((0,o.diceShare)())}}})(a.default);t.default=l},724:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=s(r(2)),o=s(r(3)),l=s(r(87)),u=r(77),c=s(r(18)),i=s(r(725));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}r(842);var f=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),l=0;l<a;l++)o[l]=arguments[l];return r=n=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.roll=function(e){var t=e.split(/d|D/)[0],r=e.split(/d|D/)[1],n=0;if(t<1&&(t=1),Number.parseFloat(t)&&Number.parseFloat(r)&&r>"0"){for(var a=0;a<t;a+=1)n+=Math.floor(Math.random()*r)+1;return n}return"wrong"},n.critic=function(e,t){var r=t.split(/d|D/)[0],n=Number(t.split(/d|D/)[1]);if(console.log("NUMBER OF SIDES",n),20===n||100===n){if(console.log("SIDES FILTERED",n),r>1)return"no";var a=r*n,o=Math.floor(.05*a),l=Math.floor(a-.05*a);if(e<=o)return"success";if(e>l)return"failed"}return"no"},n.handleSubmit=function(e){e.preventDefault();var t=n.props,r=t.rollDice,a=t.diceValue,o=n.roll(a),l=n.critic(o,a);console.log(l,"CRITIC FUNC"),r(o,l)},n.diceChange=function(e){(0,n.props.diceChange)(e.target.value)},n.shareRoll=function(){(0,n.props.diceShare)()},d(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),n(t,[{key:"componentDidMount",value:function(){var e=this.props.role;console.log("Dice cDM",e)}},{key:"render",value:function(){var e=this.props,t=e.diceValue,r=e.rolled,n=e.role,o=(0,c.default)("dice-block-tooltip",{"dice-block-tooltip-error":"wrong"===r});return a.default.createElement("div",{className:"dice"},a.default.createElement("img",{className:"dice-img",src:"https://nsa39.casimages.com/img/2018/08/28//180828112248528392.png",alt:"some roleplay dices"}),a.default.createElement("div",{className:"dice-block"},a.default.createElement("form",{className:"dice-block-form",autoComplete:"off",onSubmit:this.handleSubmit},a.default.createElement(u.FaInfoCircle,{className:o,"data-tip":"React-tooltip"}),a.default.createElement(l.default,{place:"left",type:"dark",effect:"float",border:!0},a.default.createElement("p",{className:"dice-block-tooltip-text"},"Pour lancer un dé, il vous faut écrire sous cette forme xDy où :"),a.default.createElement("ul",{className:"dice-block-tooltip-ul"},a.default.createElement("li",{className:"dice-block-tooltip-ul-li"},"x correspond au nombre de dés à lancer"),a.default.createElement("li",{className:"dice-block-tooltip-ul-li"},"D est le séparateur"),a.default.createElement("li",{className:"dice-block-tooltip-ul-li"},"y le nombre de face pour les dés à lancer")),a.default.createElement("p",{className:"dice-block-tooltip-text"},"Par exemple, la commande 2D100 revient à lancer deux dés à cent faces")),a.default.createElement(i.default,{label:"Jeter les dés",placeholder:"ex : 1d20",onChange:this.diceChange,value:t,className:"dice-block-input"}),a.default.createElement("button",{type:"submit",className:"dice-block-roll",value:"Roll"},"Roll")),"wrong"===r&&a.default.createElement("p",{className:"dice-block-result"},"Dans votre empressement vous jetez les dés en dehors du plateau... "),r&&"wrong"!==r&&a.default.createElement("p",{className:"dice-block-result"},"Vous avez tiré un ",r),"dm"===n&&a.default.createElement("button",{type:"button",className:"dice-block-share",onClick:this.shareRoll},"Partager")))}}]),t}();f.propTypes={rollDice:o.default.func.isRequired,diceShare:o.default.func.isRequired,diceChange:o.default.func.isRequired,role:o.default.string,diceValue:o.default.string,rolled:o.default.oneOfType([o.default.string,o.default.number])},f.defaultProps={diceValue:"",rolled:"",role:""},t.default=f},78:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeMap=t.handleSlide=t.deletePlayer=t.receiveMap=t.receiveChar=t.autoReceivePlayer=t.receiveDelete=t.receiveMove=t.movePlayer=t.updateChars=t.autoAddPlayer=t.createPlayer=t.changeInput=t.changeColor=t.togglePicker=t.toggleGrid=t.toggleScreen=t.AUTO_RECEIVE=t.AUTO_PLAYER=t.CHANGE_MAP=t.DELETE_PLAYER=t.MOVE_PLAYER=t.CREATE_PLAYER=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var o={maps:function(e){return e&&e.__esModule?e:{default:e}}(r(706)).default,isBoard:!1,map:"http://medievalshop.com/parchemin/wp-content/uploads/2013/02/Plan-FG2-Auberge-des-3-anneaux-%C3%A9tage-de-nuit.jpg",isMap:!0,grid:!0,color:"#4caf50",toggle:!1,isSlided:!1,cpt:1,cptX:30,cptY:100,name:"",typingName:"",characters:[]};console.log(o.characters);var l=t.CREATE_PLAYER="CREATE_PLAYER",u=t.MOVE_PLAYER="MOVE_PLAYER",c=t.DELETE_PLAYER="DELETE_PLAYER",i=t.CHANGE_MAP="CHANGE_MAP",s=t.AUTO_PLAYER="AUTO_PLAYER",d=t.AUTO_RECEIVE="AUTO_RECEIVE";t.toggleScreen=function(){return{type:"TOGGLE_SCREEN"}},t.toggleGrid=function(){return{type:"TOGGLE_GRID"}},t.togglePicker=function(){return{type:"TOGGLE_PICKER"}},t.changeColor=function(e){return{type:"CHANGE_COLOR",value:e}},t.changeInput=function(e){return{type:"INPUT_CHAR_CHANGE",value:e}},t.createPlayer=function(){return{type:l}},t.autoAddPlayer=function(e){return{type:s,char:e}},t.updateChars=function(e){return{type:"UPDATE_CHARS",value:e}},t.movePlayer=function(e){return{type:u,value:e}},t.receiveMove=function(e){return{type:"RECEIVE_MOVE",characters:e}},t.receiveDelete=function(e){return{type:"RECEIVE_DELETE",characters:e}},t.autoReceivePlayer=function(e){return{type:d,autoChar:e}},t.receiveChar=function(e){return{type:"RECEIVE_CHAR",newChar:e}},t.receiveMap=function(e){return{type:"RECEIVE_MAP",newMap:e}},t.deletePlayer=function(e){return{type:c,value:e}},t.handleSlide=function(){return{type:"HANDLE_SLIDE"}},t.changeMap=function(e){return{type:i,value:e}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"TOGGLE_SCREEN":return n({},e,{isBoard:!e.isBoard,isMap:!e.isMap});case"HANDLE_SLIDE":return n({},e,{isSlided:!e.isSlided});case"TOGGLE_GRID":return n({},e,{grid:!e.grid});case"TOGGLE_PICKER":return n({},e,{toggle:!e.toggle});case"CHANGE_COLOR":return n({},e,{color:t.value});case"RECEIVE_MAP":return n({},e,{map:t.newMap});case d:return n({},e,{characters:[].concat(a(e.characters),[t.autoChar])});case"RECEIVE_CHAR":return console.log("NEW CHAR REDUCER :",t.newChar),n({},e,{characters:[].concat(a(e.characters),[t.newChar])});case"INPUT_CHAR_CHANGE":return n({},e,{typingName:t.value});case"RECEIVE_MOVE":console.log("receive move action :",t.characters);var r=e.characters.filter(function(e){return e.id!==t.characters.id});return console.log("FILTERED :",r),n({},e,{characters:[].concat(a(r),[t.characters])});case"RECEIVE_DELETE":var l=e.characters.filter(function(e){return e.id!==t.characters[0].id});return n({},e,{characters:[].concat(a(l))});default:return e}}},842:function(e,t,r){},844:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(32),a=function(e){return e&&e.__esModule?e:{default:e}}(r(845)),o=r(90);var l=(0,n.connect)(function(e){return{charSheet:e.user.charSheet,sheetId:e.user.sheetId,userName:e.user.userName,loading:e.user.loading,success:e.user.success,showRequestStatus:e.user.showRequestStatus}},function(e){return{sheetChange:function(t){e((0,o.sheetChange)(t))},sheetUpdate:function(t){e((0,o.sheetUpdate)(t))}}})(a.default);t.default=l},845:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=c(r(2)),o=c(r(3)),l=r(77);r(846);var u=c(r(848));function c(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),l=0;l<a;l++)o[l]=arguments[l];return r=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.handleChange=function(e){(0,n.props.sheetChange)(e.target.value)},n.focusLeave=function(e){var t=n.props.sheetUpdate;console.log("ON FOCUS OUT",e.target.value),t(e.target.value)},i(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),n(t,[{key:"componentDidMount",value:function(){console.log("Sheet loaded");var e=this.props.userName;console.log("ICI MARION, USERNAME, ICI",e)}},{key:"render",value:function(){var e=this.props,t=e.charSheet,r=e.userName,n=e.success,o=e.loading,c=e.showRequestStatus;return a.default.createElement("div",{className:"sheet",background:u.default},a.default.createElement("div",{className:"sheet-axios"},c&&a.default.createElement("div",null,o&&a.default.createElement("div",null," ",a.default.createElement(l.FaHourglassEnd,null)," "),!o&&a.default.createElement("div",null,n&&a.default.createElement("div",{className:"sheet-axios-success"}," ",a.default.createElement(l.FaCheck,null)," "),!n&&a.default.createElement("div",{className:"sheet-axios-error"}," ",a.default.createElement(l.FaTimes,null)," ")))),a.default.createElement("p",{className:"sheet-name"},r),a.default.createElement("textarea",{id:"sheet-id",type:"text",className:"sheet-character",placeholder:"feuille personnage",onChange:this.handleChange,value:t,onBlur:this.focusLeave}))}}]),t}();s.propTypes={charSheet:o.default.string.isRequired,userName:o.default.string.isRequired,sheetChange:o.default.func.isRequired,sheetUpdate:o.default.func.isRequired,success:o.default.bool.isRequired,loading:o.default.bool.isRequired,showRequestStatus:o.default.bool.isRequired},t.default=s},846:function(e,t,r){},848:function(e,t,r){e.exports=r.p+"assets/d530631ebd9bb65dc6cd9914f8b03c47.png"},849:function(e,t,r){},851:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(32),a=function(e){return e&&e.__esModule?e:{default:e}}(r(852)),o=r(181);var l=(0,n.connect)(function(e){return{help:e.actionBar.help}},function(e){return{showHelp:function(){e((0,o.showHelp)())}}})(a.default);t.default=l},852:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(r(2)),a=l(r(3));r(853);var o=l(r(855));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.help,r=e.showHelp;return n.default.createElement("div",{className:"logo",style:{background:o.default}},t&&n.default.createElement("div",{onClick:r,className:"help-over"},n.default.createElement("div",{id:"kcolconeb"})))};u.propTypes={help:a.default.bool.isRequired,showHelp:a.default.func.isRequired},t.default=u},853:function(e,t,r){},855:function(e,t,r){e.exports=r.p+"assets/14b23275794381f9ec5169b63ceb5f84.png"},856:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(32),a=function(e){return e&&e.__esModule?e:{default:e}}(r(857)),o=r(181);var l=(0,n.connect)(function(e){return{help:e.actionBar.help}},function(e){return{doSomething:function(){e((0,o.doSomething)())},showDice:function(){e((0,o.showDice)())},showSheet:function(){e((0,o.showSheet)())},showHelp:function(){e((0,o.showHelp)())}}})(a.default);t.default=l},857:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=c(r(2)),o=c(r(3)),l=r(77),u=c(r(87));function c(e){return e&&e.__esModule?e:{default:e}}r(858);var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),n(t,[{key:"componentDidMount",value:function(){console.log("ActionBar loaded")}},{key:"render",value:function(){var e=this.props,t=e.showDice,r=e.showSheet,n=e.showHelp,o=e.help;return a.default.createElement("div",{className:"actionBar"},o&&a.default.createElement("div",{className:"toolTip"},a.default.createElement(l.FaQuestionCircle,{"data-tip":"ActionBar-tooltip","data-for":"ActionBar-tooltip",className:"question"}),a.default.createElement(u.default,{id:"ActionBar-tooltip",place:"left",type:"dark",effect:"float",border:!0},a.default.createElement("p",{className:"question-text"},"Boutons :"),a.default.createElement("ul",{className:"question-ul"},a.default.createElement("li",{className:"question-ul-li"},"Dés affiche l'interface de jets de dés"),a.default.createElement("li",{className:"question-ul-li"},"Fiche vous permet de consulter et modifier votre fiche de personnage"),a.default.createElement("li",{className:"question-ul-li"},"Cliquez sur Help à tout moment pour obtenir toutes les informations nécessaires")))),a.default.createElement(l.FaUserTie,{className:"actionBar-mj"}),a.default.createElement("div",{className:"actionBar-table"},a.default.createElement("button",{onClick:t,type:"button",className:"actionBar-table-dice"},"DÉS"),a.default.createElement("button",{onClick:r,type:"button",className:"actionBar-table-sheet"},"FICHE"),a.default.createElement("button",{onClick:n,type:"button",className:"actionBar-table-help"},"HELP")),a.default.createElement("div",{className:"actionBar-player"},a.default.createElement(l.FaChessPawn,{className:"actionBar-player-1"}),a.default.createElement(l.FaChessPawn,{className:"actionBar-player-2"}),a.default.createElement(l.FaChessPawn,{className:"actionBar-player-3"}),a.default.createElement(l.FaChessPawn,{className:"actionBar-player-4"})))}}]),t}();i.propTypes={showDice:o.default.func.isRequired,showSheet:o.default.func.isRequired,showHelp:o.default.func.isRequired,help:o.default.bool.isRequired},t.default=i},858:function(e,t,r){},860:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(r(2)),a=l(r(861)),o=l(r(867));function l(e){return e&&e.__esModule?e:{default:e}}r(872);t.default=function(){return n.default.createElement("div",{className:"chat"},n.default.createElement(o.default,null),n.default.createElement(a.default,null))}},861:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(32),a=function(e){return e&&e.__esModule?e:{default:e}}(r(862)),o=r(182);var l=(0,n.connect)(function(e){return{message:e.textInput.message}},function(e){return{onInputChange:function(t){e((0,o.changeInput)(t))},onAddMessage:function(){e((0,o.addMessage)())}}})(a.default);t.default=l},862:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=l(r(2)),o=l(r(3));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}r(863);var c=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),l=0;l<a;l++)o[l]=arguments[l];return r=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.handleChange=function(e){(0,n.props.onInputChange)(e.target.value)},n.handleSubmit=function(e){e.preventDefault(),(0,n.props.onAddMessage)()},u(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),n(t,[{key:"render",value:function(){var e=this.props.message;return a.default.createElement("div",{className:"form"},a.default.createElement("form",{autoComplete:"off",onSubmit:this.handleSubmit},a.default.createElement("input",{className:"form-input",type:"text",placeholder:"Votre message",value:e,onChange:this.handleChange})))}}]),t}();c.propTypes={message:o.default.string,onInputChange:o.default.func.isRequired,onAddMessage:o.default.func.isRequired},c.defaultProps={message:""},t.default=c},863:function(e,t,r){},867:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(32),a=function(e){return e&&e.__esModule?e:{default:e}}(r(868));var o=(0,n.connect)(function(e){return{messages:e.textInput.messages,help:e.actionBar.help}},{})(a.default);t.default=o},868:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=i(r(2)),o=i(r(3)),l=i(r(18)),u=r(77),c=i(r(87));function i(e){return e&&e.__esModule?e:{default:e}}r(869);var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),n(t,[{key:"componentDidUpdate",value:function(){this.messageDiv.scrollTo(0,this.messageDiv.scrollHeight)}},{key:"render",value:function(){var e=this,t=this.props,r=t.messages,n=t.help;return console.log(r,"ALL MESSAGES"),a.default.createElement("div",{ref:function(t){e.messageDiv=t},className:"messages"},n&&a.default.createElement("div",{className:"toolTip"},a.default.createElement(u.FaQuestionCircle,{"data-tip":"Messages-tooltip","data-for":"Messages-tooltip",className:"question"}),a.default.createElement(c.default,{id:"Messages-tooltip",place:"left",type:"dark",effect:"float",border:!0},a.default.createElement("p",{className:"question-text"},"Messagerie"),a.default.createElement("ul",{className:"question-ul"},a.default.createElement("li",{className:"question-ul-li"},"Vous pouvez utiliser le chat pour communiquer"),a.default.createElement("li",{className:"question-ul-li"},"Les lancers de dés s'afficheront ici"),a.default.createElement("li",{className:"question-ul-li"},"Affiche automatiquement les lancers critiques sur les D20 et D100")))),r.map(function(e){var t=(0,l.default)({"message-content-success":"success"===e.critic,"message-content-failed":"failed"===e.critic,"message-content-standart":"no"===e.critic});return console.log(e,"MESSAGE"),a.default.createElement("div",{className:"message",key:e.id},console.log(e,"mess in index.js"),e.message&&a.default.createElement("p",{className:"message-content"},e.author," ",e.message?e.message:e.dice),e.diceValue&&a.default.createElement("p",{className:"message-content"},e.author," a lancé un ",e.diceValue," et a obtenu un ",a.default.createElement("span",{className:t}," ",e.dice," ")))}))}}]),t}();s.propTypes={messages:o.default.array.isRequired,help:o.default.bool.isRequired},t.default=s},869:function(e,t,r){},872:function(e,t,r){},874:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(2));r(875);t.default=function(){return n.default.createElement("div",{className:"aether"})}},875:function(e,t,r){},877:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(130),a=u(r(878)),o=u(r(881)),l=u(r(909));function u(e){return e&&e.__esModule?e:{default:e}}var c=[];window.devToolsExtension&&c.push(window.devToolsExtension());var i=(0,n.applyMiddleware)(o.default,l.default),s=n.compose.apply(void 0,[i].concat(c)),d=(0,n.createStore)(a.default,s);t.default=d},878:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(130),a=f(r(181)),o=f(r(123)),l=f(r(78)),u=f(r(879)),c=f(r(182)),i=f(r(880)),s=f(r(90)),d=f(r(116));function f(e){return e&&e.__esModule?e:{default:e}}var p=(0,n.combineReducers)({actionBar:a.default,dice:o.default,gameScreen:l.default,sheet:u.default,textInput:c.default,messages:i.default,user:s.default,board:d.default});t.default=p},879:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a={};t.doSomething=function(){return{type:"DO_SOMETHING"}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;switch((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type){case"DO_SOMETHING":return n({},e);default:return e}}},880:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a={};t.doSomething=function(){return{type:"DO_SOMETHING"}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;switch((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type){case"DO_SOMETHING":return n({},e);default:return e}}},881:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(289)),a=s(r(882)),o=r(90),l=r(116),u=r(182),c=r(123),i=r(78);function s(e){return e&&e.__esModule?e:{default:e}}var d=(0,a.default)("localhost:3000");t.default=function(e){return function(t){return function(r){var a=e.getState();switch(r.type){case o.WEBSOCKET_CONNECT:d.emit("join",a.user,a.gameScreen.characters),d.on("send_message",function(t){console.log(t,"Mess in socket"),e.dispatch((0,u.receiveMessage)(t))}),d.on("add_token",function(t){console.log("token to add :",t),e.dispatch((0,i.autoAddPlayer)(t))}),d.on("receive_drawing",function(t){console.log("received drawing socket :",t),e.dispatch((0,l.receiveDrawing)(t))}),d.on("delete_token",function(t){e.dispatch((0,i.deletePlayer)(t))}),d.on("receive_auto",function(t){e.dispatch((0,i.autoReceivePlayer)(t))}),d.on("receive_add",function(t){console.log("new char received websocket :",t),e.dispatch((0,i.receiveChar)(t))}),d.on("receive_delete",function(t){console.log("action websocket :",t),e.dispatch((0,i.receiveDelete)(t))}),d.on("receive_move",function(t){e.dispatch((0,i.receiveMove)(t))}),d.on("receive_map",function(t){e.dispatch((0,i.receiveMap)(t))});break;case u.ADD_MESSAGE:console.log(a.user.userName,"ADD MESSAGE");var s={};s.role=a.user.role,s.author=a.user.userName,s.message=a.textInput.message,d.emit("send_message",s);break;case c.ROLL_DICE:var f={};f.diceValue=a.dice.diceValue,f.role=a.user.role,f.author=a.user.userName,f.rolled=r.dice,f.critic=r.critic,console.log(f,"DICE IN SOCKET"),d.emit("roll_dice",f);break;case l.SHARE_DRAWING:var p,m;p=a.board.eventStore,m=a.board.eventStream,console.log("drawing object socket :",p.goodEvents,m),d.emit("share_drawing",p.goodEvents);break;case c.SHARE_DICE:console.log(a.user.userName,"ADD MESSAGE");var h={};h.diceValue=a.dice.diceValue,h.author=a.user.userName,h.rolled=a.dice.rolled,d.emit("share_dice",h);break;case i.MOVE_PLAYER:var g=a.gameScreen.characters.filter(function(e){return e.id===r.value.target.id}),v=a.gameScreen.characters.map(function(e){return console.log("action.value.target.id",r.value.target.id),e.id===r.value.target.id&&(console.log("old coords :",e.coordX,e.coordY),e.coordX=r.value.layerX-r.value.offsetX,e.coordY=r.value.layerY-r.value.offsetY,console.log("new coords :",e.coordX,e.coordY)),e});console.log("moved char ",g[0]),console.log("movedchars ",v),d.emit("move_player",g[0]);break;case i.CREATE_PLAYER:if(a.gameScreen.characters.length<=20){console.log(a.gameScreen.characters.length);var E={id:(0,n.default)(),name:a.gameScreen.typingName,color:a.gameScreen.color,coordX:a.gameScreen.cptX,coordY:a.gameScreen.cptY};a.gameScreen.cptY>=250&&(a.gameScreen.cptY=30,a.gameScreen.cptX+=70),a.gameScreen.cptY+=70;var y=a.gameScreen.characters.filter(function(e){return e.name.startsWith(E.name)});y.length>=1&&(E.name=E.name+"#"+(y.length+1),console.log("compare :",y)),E.name.startsWith("#")&&(E.name="Opponent#"+a.gameScreen.cpt,a.gameScreen.cpt+=1),console.log("NEW CHAR SOCKET :",E),d.emit("add_player",E)}break;case i.AUTO_PLAYER:console.log("token reducer",r.char.userName);var b={id:(0,n.default)(),name:a.user.userName,color:a.gameScreen.color,coordX:a.gameScreen.cptX,coordY:a.gameScreen.cptY};a.gameScreen.cptY>=380&&(a.gameScreen.cptY=100,a.gameScreen.cptX+=70),a.gameScreen.cptY+=70,console.log("NEW AUTO CHAR SOCKET :",b),d.emit("auto_player",b);break;case i.DELETE_PLAYER:var _=a.gameScreen.characters.filter(function(e){return e.id===r.value.id});console.log("charlol ",_),d.emit("delete_player",_);break;case i.CHANGE_MAP:console.log("socket action map : ",r.value),d.emit("change_map",r.value)}t(r)}}}},90:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=document.getElementById("root"),o={userName:JSON.parse(a.dataset.name),role:a.dataset.role,sheetId:a.dataset.sheetid,roomId:a.dataset.room,selfId:a.dataset.playerid,charSheet:JSON.parse(a.dataset.sheet),tempSheet:"",showRequestStatus:!1,loading:!1,success:!1},l=t.AXIOS_LOADING="AXIOS_LOADING",u=t.AXIOS_LOADED="AXIOS_LOADED",c=t.SHEET_UPDATE="SHEET_UPDATE",i=t.SHEET_LOADED="SHEET_LOADED",s=t.SHEET_FAILED="SHEET_FAILED",d=t.WEBSOCKET_CONNECT="WEBSOCKET_CONNECT";t.doSomething=function(){return{type:"DO_SOMETHING"}},t.axiosLoading=function(){return{type:l}},t.axiosLoaded=function(){return{type:u}},t.sheetLoaded=function(){return{type:i}},t.sheetFailed=function(e){return{type:s,value:e}},t.sheetChange=function(e){return{type:"SHEET_CHANGE",value:e}},t.sheetUpdate=function(e){return{type:c,value:e}},t.websocketConnect=function(){return{type:d}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"DO_SOMETHING":case d:return n({},e);case"SHEET_CHANGE":return n({},e,{charSheet:t.value});case c:return n({},e,{tempSheet:t.value});case l:return n({},e,{showRequestStatus:!0,loading:!0});case u:return n({},e,{showRequestStatus:!1});case i:return n({},e,{loading:!1,success:!0});case s:return n({},e,{loading:!1,success:!1});default:return e}}},906:function(e,t){},909:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(910)),a=r(90);t.default=function(e){return function(t){return function(r){var o=e.getState();switch(r.type){case a.SHEET_UPDATE:o.user.tempSheet!==r.value?(console.log("AXIOS TRIGGERED"),e.dispatch((0,a.axiosLoading)()),n.default.post("/charactersheet/"+o.user.sheetId,r.value).then(function(t){console.log("AXIOS DONE",t),e.dispatch((0,a.sheetLoaded)()),setTimeout(function(){e.dispatch((0,a.axiosLoaded)())},1e3)}).catch(function(t){console.log(t),e.dispatch((0,a.sheetFailed)()),setTimeout(function(){e.dispatch((0,a.axiosLoaded)())},1e3)})):e.dispatch((0,a.axiosLoaded)())}t(r)}}}}});